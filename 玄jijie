<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>玄寂界 - 角色启动器</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=ZCOOL+KuaiLe&display=swap" rel="stylesheet">
    
    <style>
        /* --- 所有您喜欢的美化样式，完整保留 --- */
        html, body { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; font-family: 'ZCOOL KuaiLe', sans-serif; color: #fff; }
        #video-background { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); min-width: 100%; min-height: 100%; z-index: -1; object-fit: cover; filter: brightness(.7); }
        .page-wrapper { display: flex; flex-direction: column; justify-content: center; align-items: center; width: 100%; height: 100%; text-align: center; box-sizing: border-box; padding: 20px; }
        
        /* 标题 */
        h1 { font-size: 4em; text-shadow: 0 0 8px #ffd700, 0 0 20px #ffd700, 0 0 35px #ffae00, 0 3px 3px #000; margin-bottom: 20px; }
        
        /* 按钮容器 */
        .button-container { width: 100%; max-width: 600px; }

        /* 统一的按钮样式 */
        .action-button {
            display: block; width: 90%;
            font-family: 'ZCOOL KuaiLe', sans-serif; font-size: 2em; color: white;
            background: rgba(80, 60, 20, 0.5); border: 2px solid #ffd700;
            padding: 15px 0; margin: 20px auto; border-radius: 15px; cursor: pointer;
            text-shadow: 1px 1px 2px #000;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
            transition: all 0.3s ease;
        }
        .action-button:hover { background: rgba(120, 100, 40, 0.7); box-shadow: 0 0 20px rgba(255, 215, 0, 0.8); transform: scale(1.05); }

        /* 信息弹窗 (Modal) */
        .modal {
            display: none; position: fixed; z-index: 100;
            left: 0; top: 0; width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.7);
            justify-content: center; align-items: center;
        }
        .modal-content {
            background: rgba(0,0,0,0.8); border: 1px solid #ffd700;
            padding: 25px; border-radius: 15px; width: 85%; max-width: 700px;
            box-shadow: 0 0 25px rgba(255, 215, 0, 0.5);
            text-align: left;
        }
        .modal-content h2 { color: #ffd700; text-shadow: 0 0 5px #ffae00; text-align: center; }
        .modal-content p { line-height: 1.6; }
        .close-button {
            display: block; width: 60%; margin: 20px auto 0 auto;
        }
    </style>
</head>
<body>

<video autoplay muted loop id="video-background">
    <source src="https://raw.githubusercontent.com/penguinp-star/xuanjijie/main/lv_0_20250722185633.mp4" type="video/mp4">
    您的浏览器不支持视频标签。
</video>

<div class="page-wrapper">
    <h1>玄寂界</h1>
    <div class="button-container">
        <button class="action-button" data-modal="modal-world">世界简介</button>
        <button class="action-button" data-modal="modal-char">人物介绍</button>
        <button class="action-button" data-modal="modal-rules">规则介绍</button>
        <button class="action-button" id="start-zhengdao">开启正道仙途</button>
        <button class="action-button" id="start-modao">开启魔道之路</button>
    </div>
</div>

<!-- 信息弹窗内容 -->
<div id="modal-world" class="modal">
    <div class="modal-content">
        <h2>世界简介</h2>
        <p>本界为三千小世界之一，因上古大战导致天道破碎，世界本源受损，灵气日益枯竭。修士最高只能修炼至大乘期，飞升之路已断绝，整个世界处于缓慢的衰亡过程中，修仙是此界唯一的出路。</p>
        <button class="action-button close-button">返回</button>
    </div>
</div>

<div id="modal-char" class="modal">
    <div class="modal-content">
        <h2>人物介绍</h2>
        <p><strong>云曦月:</strong> 云氏古族圣女（名存实亡），身怀被封印的荒古圣体，因无法修炼被视为废人。性格坚韧，表面清冷，内心敏感多疑，渴望证明自己。</p>
        <p><strong>云万青:</strong> 云曦月旁系表哥，拥有稀薄的虬龙血脉，因嫉妒云曦月的嫡系身份而处处针对她，是其前期成长道路上的主要反派。</p>
        <button class="action-button close-button">返回</button>
    </div>
</div>

<div id="modal-rules" class="modal">
    <div class="modal-content">
        <h2>规则介绍</h2>
        <p><strong>境界壁垒:</strong> 修为等级森严，境界差距如同天堑，越级击杀几乎不可能。</p>
        <p><strong>资源法则:</strong> 资源极度稀缺，由各大势力严格管控，内部等级森严且鼓励“强者为尊”的内斗。</p>
        <button class="action-button close-button">返回</button>
    </div>
</div>


<script>
document.addEventListener('DOMContentLoaded', function() {
    
    // --- 【最终配置区】 ---
    // 在下面引号里，粘贴您【唯一】的角色卡直接链接
    const characterCardUrl = 'https://raw.githubusercontent.com/penguinp-star/xuanjijie/main/我的徒弟颇有圣尊之姿1_1.png';
    // -------------------

    const startZhengdaoBtn = document.getElementById('start-zhengdao');
    const startModaoBtn = document.getElementById('start-modao');
    const modalButtons = document.querySelectorAll('[data-modal]');
    const closeButtons = document.querySelectorAll('.close-button');

    // 检查角色卡链接是否配置
    function checkConfig() {
        if (!characterCardUrl || characterCardUrl.startsWith('在这里粘贴')) {
            alert('错误：角色卡链接尚未配置！\n\n请编辑HTML文件，在<script>标签内填入角色卡的直接链接。');
            return false;
        }
        return true;
    }

    // 正道按钮 -> 触发SillyTavern命令
    startZhengdaoBtn.addEventListener('click', function() {
        if (!checkConfig()) return;
        // 使用 gid=1 调用额外问候语 #1
        const sillyTavernLink = `sillytavern://importcharacter?url=${encodeURIComponent(characterCardUrl)}&gid=1`;
        window.location.href = sillyTavernLink;
    });

    // 魔道按钮 -> 触发SillyTavern命令
    startModaoBtn.addEventListener('click', function() {
        if (!checkConfig()) return;
        // 使用 gid=2 调用额外问候语 #2
        const sillyTavernLink = `sillytavern://importcharacter?url=${encodeURIComponent(characterCardUrl)}&gid=2`;
        window.location.href = sillyTavernLink;
    });

    // --- 信息弹窗逻辑 ---
    // 打开弹窗
    modalButtons.forEach(button => {
        const modalId = button.dataset.modal;
        if (modalId) { // 确保不是“开始”按钮
            const modal = document.getElementById(modalId);
            button.addEventListener('click', () => {
                modal.style.display = 'flex';
            });
        }
    });

    // 关闭弹窗
    closeButtons.forEach(button => {
        button.addEventListener('click', () => {
            button.closest('.modal').style.display = 'none';
        });
    });

    // 点击弹窗外部也可关闭
    window.addEventListener('click', (event) => {
        if (event.target.classList.contains('modal')) {
            event.target.style.display = 'none';
        }
    });
});
</script>

</body>
</html>
